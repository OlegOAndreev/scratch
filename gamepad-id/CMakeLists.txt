project(gamepad-id)
cmake_minimum_required(VERSION 2.8)
include(CheckIncludeFiles)

if(NOT MSVC)
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11 -ggdb -Wall -Wextra -Wshadow")
endif()

if(UNIX)
  include_directories(/usr/local/include)
  link_directories(/usr/local/lib)
  set(CMAKE_REQUIRED_INCLUDES "${CMAKE_REQUIRED_INCLUDES} /usr/local/include")
endif()

# SDL2 (https://www.libsdl.org) must be installed (either in /usr/local or locally)
check_include_files("SDL2/SDL.h" HAVE_SDL_H)
if(NOT HAVE_SDL_H)
  message(FATAL_ERROR "SDL2/SDL.h not found, compile and install SDL2")
endif()
list(APPEND LIBRARIES SDL2)

add_executable(${PROJECT_NAME} gamepad-id.cpp)

target_link_libraries(${PROJECT_NAME} ${LIBRARIES})
